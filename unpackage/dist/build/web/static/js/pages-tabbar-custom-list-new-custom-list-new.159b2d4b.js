(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tabbar-custom-list-new-custom-list-new"],{"04d2":function(t,e,n){"use strict";n("6a54");var o=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("bf0f");var a=o(n("b470")),i=(n("1391"),{data:function(){return{activeMenuIndex:null,customs:[],status:"",quantity:1,showOptionsModal:!1,showQuantityPicker:!1,selectedImage:null,selectedQuantity:1,hoverIndex:-1}},onLoad:function(t){this.signature=t.signature,uni.setStorageSync("signature",{data:t.signature})},onShow:function(){this.handleShow()},methods:{handleShow:function(){var t=this;uni.showLoading({title:"加载中..."}),uni.request({url:a.default.BASE_URL+"v1/order/getOrder",method:"GET",data:{sign:this.signature},success:function(e){if("0000"===e.data.code){console.log("请求成功",e.data);var n=e.data.data.order,o=e.data.data.customs;t.customs=o,t.order=n,t.orderSn=n.sn,t.status=n.status,uni.setStorageSync("orderSn",{data:t.orderSn})}else console.log("请求失败",e.info),uni.showToast({title:"请确认网址是否有误",icon:"none"});uni.hideLoading()},fail:function(t){console.log("请求失败",t),uni.showToast({title:"请求失败",icon:"none"}),uni.hideLoading()}})},clickButton:function(t){var e=this;uni.showModal({title:"温馨提示",content:"1、请控制字数，不能超过文本方框\n2、不支持表情包输入",success:function(n){n.confirm&&e.navigateToPage(t)}})},navigateToPage:function(t){this.showOptionsModal=!1;var e="待确认"===this.status&&!this.hasNonEmptyTemplateId()||"已定稿"===this.status;console.log(e),null==t.templateId?uni.reLaunch({url:"/pages/tabbar/templete-list/templete-list?id="+t.id}):uni.reLaunch({url:"/pages/tabbar/template/template?id="+t.id+"&showHint="+e})},showConfirmDialog:function(){var t=this;uni.showModal({title:"确认定稿",content:"确认后将无法修改",success:function(e){e.confirm&&(uni.showLoading({title:"保存中..."}),uni.request({url:a.default.BASE_URL+"v1/order/status?orderSn="+t.order.sn,success:function(e){console.log(e),t.status="已定稿",uni.hideLoading(),uni.reLaunch({url:"/?signature="+t.signature})},fail:function(t){uni.hideLoading(),uni.showToast({icon:"error",title:"确认定制失败,请刷新页面重试"})}}))}})},hoverItem:function(t){this.hoverIndex=t},leaveItem:function(){this.hoverIndex=-1},hasNonEmptyTemplateId:function(){return this.customs.every((function(t){return null!==t.templateId&&void 0!==t.templateId&&""!==t.templateId}))}}});e.default=i},"07d2":function(t,e,n){"use strict";n.r(e);var o=n("d30d"),a=n("cf86");for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("39f0");var s=n("828b"),r=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"7a15604d",null,!1,o["a"],void 0);e["default"]=r.exports},1391:function(t,e,n){"use strict";n("6a54");var o=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.eventBus=void 0;var a=o(n("9b8e")),i=new a.default;e.eventBus=i},"39f0":function(t,e,n){"use strict";var o=n("8d94"),a=n.n(o);a.a},"8d94":function(t,e,n){var o=n("af3c");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=n("967d").default;a("323d19b1",o,!0,{sourceMap:!1,shadowMode:!1})},af3c:function(t,e,n){var o=n("c86c");e=o(!1),e.push([t.i,".container[data-v-7a15604d]{display:flex;flex-direction:column;justify-content:space-between;height:auto;background-color:#fff;touch-action:none;\n\t/* 禁止触摸拖动 */position:relative\n\t/* 使内部绝对定位元素相对此容器定位 */}.save-button[data-v-7a15604d]{width:100%;background-color:#e95547;\n\t/* 绿色背景 */color:#fff;border:none;padding:15px 20px;border-radius:8px;font-size:18px;cursor:pointer;transition:background-color .3s ease;\n\t/* 按钮颜色过渡效果 */box-shadow:0 2px 4px rgba(0,0,0,.2)\n\t/* 按钮阴影 */}.save-button[data-v-7a15604d]:hover{background-color:#d04b3f\n\t/* 鼠标悬停时的背景颜色 */}\n\n/* 导航栏按钮样式 */.nav-button[data-v-7a15604d]{position:fixed;top:0;left:330px;margin-top:2px;height:40px;z-index:1000;background-color:#2196f3;\n\t/* 蓝色背景 */color:#fff;border:none;height:40px;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s ease;\n\t/* 按钮颜色过渡效果 */box-shadow:0 2px 4px rgba(0,0,0,.2)\n\t/* 按钮阴影 */}.nav-button[data-v-7a15604d]:hover{background-color:#1976d2\n\t/* 鼠标悬停时的背景颜色 */}.afterConfirm[data-v-7a15604d]{height:70px;justify-content:center}.list[data-v-7a15604d]{flex:1;padding:20px;overflow-y:auto}.list-item[data-v-7a15604d]{display:flex;justify-content:space-between;\n\t/* 垂直居中 */\n\t/* align-items: center; */\n\t/* 水平居中 */padding:20px;box-sizing:border-box;border-bottom:1px solid #ddd;\n\t/* 浅灰色边框 */color:#333;\n\t/* 深色文字 */font-size:18px;height:120px;position:relative;transition:background-color .3s ease;\n\t/* 列表项背景颜色过渡效果 */cursor:pointer}.item-text-2[data-v-7a15604d]{display:flex;justify-content:space-between;align-items:center;padding:10px}\n\n/* 文字容器 */.text-container[data-v-7a15604d]{margin-top:20px;font-size:20px;height:40px;\n\t/* 设置固定高度 */display:flex;align-items:center\n\t/* 让文字垂直居中 */}\n\n/* 按钮容器 */.button-container[data-v-7a15604d]{margin-top:20px;display:flex;justify-content:flex-end;align-items:center;height:40px\n\t/* 设置固定高度 */}\n\n/* 按钮样式 */.item-buttom[data-v-7a15604d]{min-width:80px}.list-item[data-v-7a15604d]:hover{background-color:#e0e0e0\n\t/* 鼠标悬停时的背景颜色 */}.item-text[data-v-7a15604d]{display:flex;flex-direction:column;\n\t/* 让子元素垂直排列 */justify-content:center;\n\t/* 垂直居中 */align-items:center;margin-top:30px;text-align:center;position:relative;transition:background-color .3s ease;\n\t/* 列表项背景颜色过渡效果 */cursor:pointer;font-size:20px;font-family:Arial,sans-serif;\n\t/* 更换字体 */border-bottom:1px solid #ddd;\n\t/* 浅灰色边框 */color:red;padding:20px}.item-text-1[data-v-7a15604d]{display:flex;flex-direction:column;\n\t/* 让子元素垂直排列 */justify-content:center;\n\t/* 垂直居中 */align-items:center;margin-top:30px;text-align:center;position:relative;transition:background-color .3s ease;\n\t/* 列表项背景颜色过渡效果 */cursor:pointer;font-size:18px;font-family:Arial,sans-serif;\n\t/* 更换字体 */border-bottom:1px solid #ddd;\n\t/* 浅灰色边框 */color:#333;padding:20px}.item-text-add[data-v-7a15604d]{display:flex;justify-content:center;align-items:center;height:100%;text-align:center;margin-top:20px;color:#888;\n\t/* 灰色文字 */font-size:16px}.menu-button[data-v-7a15604d]{background:none;border:none;color:#000;font-size:18px;margin-left:10px;cursor:pointer}.menu[data-v-7a15604d]{position:absolute;right:0;background-color:#fff;border:1px solid #ccc;box-shadow:0 2px 5px rgba(0,0,0,.1);z-index:100;border-radius:8px;margin-top:10px}.menu-item[data-v-7a15604d]{padding:10px 20px;color:#333;font-size:16px;border-bottom:1px solid #eee;cursor:pointer;transition:background-color .3s ease\n\t/* 菜单项背景颜色过渡效果 */}.menu-item[data-v-7a15604d]:hover{background-color:#f0f0f0\n\t/* 鼠标悬停时的背景颜色 */}.menu-item[data-v-7a15604d]:last-child{border-bottom:none}.bottom-button[data-v-7a15604d]{width:100%;padding:20px;background-color:#000;color:#fff;text-align:center;font-size:20px;cursor:pointer;transition:background-color .3s ease\n\t/* 按钮颜色过渡效果 */}.bottom-button[data-v-7a15604d]:hover{background-color:#333\n\t/* 鼠标悬停时的背景颜色 */}.options-modal[data-v-7a15604d]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;z-index:100}.options-list[data-v-7a15604d]{background-color:#fff;border-radius:5px;padding:10px;width:150px}.option[data-v-7a15604d]{padding:10px;border-bottom:1px solid #eee;cursor:pointer;transition:background-color .3s ease\n\t/* 选项背景颜色过渡效果 */}.option[data-v-7a15604d]:hover{background-color:#f0f0f0\n\t/* 鼠标悬停时的背景颜色 */}.option[data-v-7a15604d]:last-child{border-bottom:none}.quantity-picker-modal[data-v-7a15604d]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5)}.view-button[data-v-7a15604d]{background-color:#4caf50;color:#fff;border:none;padding:15px 20px;border-radius:8px;font-size:18px;cursor:pointer;transition:background-color .3s ease;box-shadow:0 2px 4px rgba(0,0,0,.2)}.view-button[data-v-7a15604d]:hover{background-color:#45a049}.list-item-shadow[data-v-7a15604d]{box-shadow:0 4px 8px rgba(0,0,0,.1);\n\t/* 设置阴影，水平偏移 0，垂直偏移 4px，模糊半径 8px，颜色为半透明黑色 */transition:box-shadow .3s ease\n\t/* 添加阴影过渡效果 */}.list-item-shadow[data-v-7a15604d]:hover{box-shadow:0 8px 16px rgba(0,0,0,.2)\n\t/* 鼠标悬停时，增加阴影的模糊半径和透明度 */}.item-buttom[data-v-7a15604d]{background-color:#4caf50;color:#fff;border:none;padding:0 8px;border-radius:8px;font-size:18px;cursor:pointer;transition:background-color .3s ease;box-shadow:0 2px 4px rgba(0,0,0,.2)}",""]),t.exports=e},b470:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={BASE_URL:"https://ai.cbbeny.cn/api/api/"};e.default=o},cf86:function(t,e,n){"use strict";n.r(e);var o=n("04d2"),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},d30d:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"item-text-1"},[t._v("订单编号:"+t._s(t.orderSn))]),"已定稿"===t.status?n("v-uni-view",{staticClass:"item-text",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navigateToPage(t.item,t.isEditable)}}},[t._v("您已完成定制！🎇")]):t._e(),"待确认"===t.status&&t.hasNonEmptyTemplateId()?n("v-uni-view",{staticClass:"item-text",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navigateToPage(t.item,t.isEditable)}}},[t._v("请最终确认您的定制！")]):t._e(),"待确认"!==t.status||t.hasNonEmptyTemplateId()?t._e():n("v-uni-view",{staticClass:"item-text",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navigateToPage(t.item,t.isEditable)}}},[t._v("请开始您的定制！")]),n("v-uni-view",{staticClass:"list"},[t._l(t.customs,(function(e,o){return n("v-uni-view",{key:o,staticClass:"list-item list-item-shadow",on:{mouseenter:function(e){arguments[0]=e=t.$handleEvent(e),t.hoverItem(o)},mouseleave:function(e){arguments[0]=e=t.$handleEvent(e),t.leaveItem(o)}}},[n("v-uni-view",{staticClass:"text-container"},[t._v(t._s(e.templateName))]),n("v-uni-view",{staticClass:"button-container"},["已定稿"===t.status?n("v-uni-button",{staticClass:"item-buttom",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.navigateToPage(e,t.isEditable)}}},[t._v("点击查看")]):t._e(),"待确认"===t.status&&null===e.templateId?n("v-uni-button",{staticClass:"item-buttom",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.navigateToPage(e,t.isEditable)}}},[t._v("选择模板")]):t._e(),"待确认"===t.status&&null!=e.templateId?n("v-uni-button",{staticClass:"item-buttom",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.navigateToPage(e,t.isEditable)}}},[t._v("点击修改")]):t._e()],1)],1)})),"已定稿"===t.status?n("v-uni-view",{staticClass:"item-text-add"},[t._v("已定稿，不可修改，如需修改请退款后重新下单")]):t._e()],2),"待确认"===t.status&&t.hasNonEmptyTemplateId()?n("v-uni-button",{staticClass:"save-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showConfirmDialog()}}},[t._v("确认定稿，定稿后将无法修改")]):t._e()],1)},a=[]}}]);